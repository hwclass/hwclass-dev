---
import { type CollectionEntry, getCollection } from 'astro:content';
import Course from '../../layouts/Course.astro';

export async function getStaticPaths() {
	const courses = await getCollection('courses');

	return courses.map((course) => ({
		params: { slug: course.slug },
		props: course,
	}));
}
type Props = CollectionEntry<'courses'>;

const course = Astro.props;
const { Content } = await course.render();
---

<Course {...course.data}>
	<Content />
</Course>
